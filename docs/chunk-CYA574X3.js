import{A as J,B as P,C as Oe,D as K,E as De,F as Ne,a as Ce,b as V,c as Se,d as xe,e as Ie,f as b,g as Me,h as ye,i as Ee,j as be,k as Pe,l as we,m as Fe,n as He,o as Le,p as Te,q as ke,r as j,s as A,t as R,u as B,v as $,w as U,x as z,y as q,z as G}from "./chunk-3LAIERYO.js";import{a as he,g as ge,h as ve,i as _e,j as N,k as te}from "./chunk-7OS4U77L.js";import"./chunk-ANFAF5LV.js";import{Bb as S,C as ne,Ib as h,Jb as n,Kb as u,Lb as x,Ob as ce,Pb as ee,Qb as H,Rb as O,Sa as k,Sb as le,T as ae,Tb as D,Va as a,Wa as M,Z as me,_ as L,ca as pe,ia as d,ja as T,la as se,lb as l,n as re,nb as p,r as Z,ra as v,sa as _,sb as i,tb as o,ub as s,uc as g,vc as E,wb as y,wc as de,yc as ue,zb as C,zc as fe}from "./chunk-QBCKSVYX.js";var We=()=>({width:"250px"});function Xe(e, c){if(e&1){let t=y();i(0,"mat-list-item",9),C("click",function(){v(t),S();let m=h(2);return _(m.toggle())}),i(1,"div",10)(2,"mat-icon"),n(3),o(),n(4),o()()}if(e&2){let t=c.$implicit;p("routerLink",t.url),a(3),x(" ",t.icon," "),a(),x(" ",t.label," ")}}var Re=(()=>{class e{constructor(){this.sidebarItems=[{label:"Listado",icon:"list",url:"./list"},{label:"A\xF1adir",icon:"add",url:"./new-hero"},{label:"Buscar",icon:"search",url:"./search"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-layout-page"]],decls:22,vars:3,consts:[["sidenav",""],["fullscreen",""],["mode","over",3,"ngStyle"],["color","accent"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","warn"],[1,"p-4"],[3,"click","routerLink"],[1,"flex","gap-3"]],template:function(r, m){if(r&1){let f=y();i(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar",3)(4,"span"),n(5,"Men\xFA"),o(),s(6,"span",4),i(7,"button",5),C("click",function(){v(f);let F=h(2);return _(F.toggle())}),i(8,"mat-icon"),n(9,"menu"),o()()(),i(10,"mat-nav-list"),l(11,Xe,5,3,"mat-list-item",6),o()(),i(12,"mat-toolbar")(13,"button",5),C("click",function(){v(f);let F=h(2);return _(F.toggle())}),i(14,"mat-icon"),n(15,"menu"),o()(),s(16,"span",4),i(17,"button",7)(18,"mat-icon"),n(19,"logout"),o()()(),i(20,"div",8),s(21,"router-outlet"),o()()}r&2&&(a(),p("ngStyle",ce(2,We)),a(10),p("ngForOf",m.sidebarItems))},dependencies:[g,de,ve,N,Se,b,De,K,He,Le,Fe]})}}return e})();var ie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-new-page"]],decls:2,vars:0,template:function(r, m){r&1&&(i(0,"p"),n(1,"new-page works!"),o())}})}}return e})();var Be={baseUrl:"https://multi.escoz.net"};var w=(()=>{class e{constructor(t){this.httpClient=t,this.baseUrl=Be.baseUrl}getHeroes(){return this.httpClient.get(`${this.baseUrl}/heroes`).pipe(Z(t=>t.content))}getHero(t){return this.httpClient.get(`${this.baseUrl}/heroes/${t}`).pipe(ne(()=>re(void 0)))}getSuggestions(t){return this.httpClient.get(`${this.baseUrl}/heroes?hero_name=${t}&page_size=6`).pipe(Z(r=>r.content))}static{this.\u0275fac=function(r){return new(r||e)(pe(he))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var W=(()=>{class e{transform(t){return!t.id&&!t.altImage?"assets/no-image.png":t.altImage?t.altImage:`assets/heroes/${t.id}.jpg`}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=se({name:"heroImage",type:e,pure:!0})}}return e})();var et= e=>["/heroes/edit/",e],tt= e=>["/heroes/",e];function it(e, c){if(e&1&&(i(0,"mat-chip"),n(1),o()),e&2){let t=c.$implicit;a(),x(" ",t," ")}}var X=(()=>{class e{ngOnInit(){if(!this.hero)throw Error("Hero not found")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=d({type:e,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},decls:31,vars:19,consts:[[1,"h-full"],["mat-card-image","",1,"card-img",3,"src","alt"],[1,"mt-2"],[1,"mt-1","mb-2"],[4,"ngFor","ngForOf"],[1,"mt-auto"],["mat-button","","color","accent",3,"routerLink"],[1,"spacer"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(r, m){r&1&&(i(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n(3),o(),i(4,"mat-card-subtitle"),n(5),o()(),s(6,"img",1),H(7,"heroImage"),i(8,"mat-card-content",2)(9,"h4"),n(10),o(),i(11,"p"),n(12," Primera aparici\xF3n "),i(13,"strong"),n(14),o(),s(15,"br"),i(16,"mat-chip-listbox",3),l(17,it,2,1,"mat-chip",4),H(18,"slice"),o()()(),i(19,"div",5),s(20,"mat-divider"),i(21,"mat-card-actions")(22,"button",6)(23,"mat-icon"),n(24,"edit"),o(),n(25," Editar "),o(),s(26,"span",7),i(27,"button",8)(28,"mat-icon"),n(29,"read_more"),o(),n(30," Ver m\xE1s "),o()()()()),r&2&&(a(3),u(m.hero.superhero),a(2),u(m.hero.alterEgo),a(),p("src",O(7,9,m.hero),k)("alt",m.hero.superhero),a(4),u(m.hero.publisher),a(4),u(m.hero.firstApparence),a(3),p("ngForOf",le(18,11,m.hero.characters.split(","),0,3)),a(5),p("routerLink",ee(15,et,m.hero.id)),a(5),p("routerLink",ee(17,tt,m.hero.id)))},dependencies:[g,N,V,j,$,R,U,z,B,A,q,G,b,P,ue,W]})}}return e})();function ot(e, c){if(e&1&&(i(0,"mat-option",8),n(1),o()),e&2){let t=c.$implicit;p("value",t),a(),x(" ",t.superhero," ")}}function rt(e, c){e&1&&(i(0,"mat-option",9),n(1," No se han encontrado resultados "),o())}function nt(e, c){if(e&1&&(i(0,"div"),s(1,"heroes-hero-card",10),o()),e&2){let t=S();a(),p("hero",t.selectedHero)}}var qe=(()=>{class e{constructor(t){this.heroService=t,this.searchInput=new Ee(""),this.heroes=[]}performSearch(){this.heroService.getSuggestions(this.searchInput.value).subscribe(t=>this.heroes=t)}onSelectedOption(t){if(!t.option.value){this.selectedHero=void 0;return}let r=t.option.value;this.searchInput.setValue(r.superhero),this.selectedHero=r}static{this.\u0275fac=function(r){return new(r||e)(M(w))}}static{this.\u0275cmp=d({type:e,selectors:[["app-search-page"]],decls:10,vars:5,consts:[["auto","matAutocomplete"],[1,"flex","flex-column"],["appearance","outline","color","accent"],["type","text","matInput","","placeholder","Ej: Batman",3,"input","formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],[4,"ngIf"],[3,"value"],["value",""],[3,"hero"]],template:function(r, m){if(r&1){let f=y();i(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),n(3,"Buscador de h\xE9roes"),o(),i(4,"input",3),C("input",function(){return v(f),_(m.performSearch())}),o(),i(5,"mat-autocomplete",4,0),C("optionSelected",function(F){return v(f),_(m.onSelectedOption(F))}),l(7,ot,2,2,"mat-option",5)(8,rt,2,0,"mat-option",6),o()(),l(9,nt,2,1,"div",7),o()}if(r&2){let f=h(6);a(4),p("formControl",m.searchInput)("matAutocomplete",f),a(3),p("ngForOf",m.heroes),a(),p("ngIf",m.heroes.length===0&&m.searchInput.value.length>0),a(),p("ngIf",m.selectedHero)}},dependencies:[g,E,Te,Ce,ke,Ie,xe,we,Me,ye,be,X]})}}return e})();function mt(e, c){if(e&1&&(i(0,"div",4),s(1,"heroes-hero-card",5),o()),e&2){let t=c.$implicit;a(),p("hero",t)}}function pt(e, c){if(e&1&&(i(0,"div",2),l(1,mt,2,1,"div",3),o()),e&2){let t=S();a(),p("ngForOf",t.heroes)}}function st(e, c){e&1&&(i(0,"div",6)(1,"div",7),s(2,"mat-spinner",8),o()())}var Ge=(()=>{class e{constructor(t){this.heroService=t,this.heroes=[]}ngOnInit(){this.heroService.getHeroes().subscribe(t=>this.heroes=t)}static{this.\u0275fac=function(r){return new(r||e)(M(w))}}static{this.\u0275cmp=d({type:e,selectors:[["app-list-page"]],decls:6,vars:2,consts:[["loading",""],["class","grid mt-4",4,"ngIf","ngIfElse"],[1,"grid","mt-4"],["class","col-12 sm:col-4 md:col-4 xl:col-3",4,"ngFor","ngForOf"],[1,"col-12","sm:col-4","md:col-4","xl:col-3"],[3,"hero"],[1,"flex","justify-content-center","mt-5"],[1,"justify-content-center"],["color","accent"]],template:function(r, m){if(r&1&&(i(0,"h1"),n(1,"\u{1F9B8}\u200D Lista de H\xE9roes"),o(),s(2,"mat-divider"),l(3,pt,2,1,"div",1)(4,st,3,0,"ng-template",null,0,D)),r&2){let f=h(5);a(3),p("ngIf",m.heroes.length>0)("ngIfElse",f)}},dependencies:[g,E,P,J,X]})}}return e})();function ct(e, c){if(e&1&&(i(0,"mat-chip"),n(1),o()),e&2){let t=c.$implicit;a(),x(" ",t," ")}}function lt(e, c){if(e&1){let t=y();i(0,"div",2)(1,"div",3)(2,"mat-card",4)(3,"mat-card-header")(4,"mat-card-title"),n(5),o(),i(6,"mat-card-subtitle"),n(7),o()(),s(8,"img",5),H(9,"heroImage"),o()(),i(10,"div",6)(11,"mat-card",4)(12,"mat-card-header")(13,"mat-card-title"),n(14,"Informaci\xF3n"),o(),i(15,"mat-card-subtitle"),n(16),o()(),i(17,"mat-card-content")(18,"mat-list")(19,"mat-list-item"),n(20),o(),i(21,"mat-list-item")(22,"mat-chip-listbox",7),l(23,ct,2,1,"mat-chip",8),o()(),i(24,"mat-list-item"),n(25),o(),i(26,"mat-list-item"),n(27),o()()(),i(28,"div",9),s(29,"mat-divider"),i(30,"mat-card-actions")(31,"button",10),C("click",function(){v(t);let m=S();return _(m.goBack())}),i(32,"mat-icon"),n(33,"arrow_back"),o(),n(34," Atr\xE1s "),o()()()()()()}if(e&2){let t=S();a(5),u(t.hero.alterEgo),a(2),u(t.hero.superhero),a(),p("src",O(9,9,t.hero),k)("alt",t.hero.superhero),a(8),u(t.hero.superhero),a(4),u(t.hero.firstApparence),a(3),p("ngForOf",t.hero.characters.split(",")),a(2),u(t.hero.publisher),a(2),u(t.hero.alterEgo)}}function dt(e, c){e&1&&(i(0,"div",11)(1,"div",12),s(2,"mat-spinner",13),o()())}var Je=(()=>{class e{constructor(t, r, m){this.heroService=t,this.activateRoute=r,this.router=m}ngOnInit(){this.activateRoute.params.pipe(ae(({id:t})=>this.heroService.getHero(t))).subscribe(t=>{if(!t)return this.router.navigate(["/heroes/list"]);this.hero=t})}goBack(){this.router.navigate(["/heroes/list"]).then()}static{this.\u0275fac=function(r){return new(r||e)(M(w),M(ge),M(_e))}}static{this.\u0275cmp=d({type:e,selectors:[["app-hero-page"]],decls:3,vars:2,consts:[["loading",""],["class","grid h-full",4,"ngIf","ngIfElse"],[1,"grid","h-full"],[1,"col-4"],[1,"h-full"],["mat-card-image","",1,"full-height-image",3,"src","alt"],[1,"col-8"],[1,"mt-1","mb-2"],[4,"ngFor","ngForOf"],[1,"mt-auto"],["mat-stroked-button","","color","accent",3,"click"],[1,"flex","justify-content-center","mt-5"],[1,"justify-content-center"],["color","accent"]],template:function(r, m){if(r&1&&l(0,lt,35,11,"div",1)(1,dt,3,0,"ng-template",null,0,D),r&2){let f=h(2);p("ngIf",m.hero)("ngIfElse",f)}},dependencies:[g,E,V,j,$,R,U,z,B,A,q,G,b,Oe,K,P,J,W]})}}return e})();var ut=[{path:"",component:Re,children:[{path:"new-hero",component:ie},{path:"search",component:qe},{path:"edit/:id",component:ie},{path:"list",component:Ge},{path:":id",component:Je},{path:"**",redirectTo:"list"}]}],Ke=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=T({type:e})}static{this.\u0275inj=L({imports:[te.forChild(ut),te]})}}return e})();var oi=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=T({type:e})}static{this.\u0275inj=L({imports:[fe,Ke,Ne,Pe]})}}return e})();export{oi as HeroesModule};
